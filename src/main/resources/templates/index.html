
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">


<link
	href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css">

<script
	src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script
	src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!------ Include the above in your HEAD tag ---------->

<link
	href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css">
<script
	src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/css/bootstrap.min.css}" />
<script type="text/javascript" th:src="@{/js/jquery.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>

<title>ICC</title>

</head>
<body>




	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">ICC</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active"><a class="nav-link" onclick="">Home
						<span class="sr-only">(current)</span>
				</a></li>

				<li class="nav-item active"><a class="nav-link"
					onclick="team_member_view()">Registration <span class="sr-only">(current)</span>
				</a></li>

				<li class="nav-item active"><a class="nav-link" href="#">Country
						<span class="sr-only">(current)</span>
				</a></li>

			</ul>

		</div>
	</nav>

	<div class="container">

		<!-- Button trigger modal -->
		<button type="button" class="btn btn-primary" data-toggle="modal"
			data-target="#exampleModal">Add Country</button>

		<!-- Modal -->
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Add Country</h5>

						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>

					<form method="POST" modelAttribute="country" action="upload">
						<div class="modal-body">
							<input name="name" class=" from-controll">
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-dismiss="modal">Close</button>
							<input type="submit" value="save" class="btn btn-primary" />
						</div>

					</form>

				</div>
			</div>
		</div>

		<div class="well" id="container">
			<table class="table table-hover">
				<thead>
					<tr>
						<th scope="col">#</th>
						<th scope="col">Name</th>
						<th scope="col"></th>
						<th scope="col"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${countries.empty}">
						<td colspan="2">No Country Available</td>
					</tr>
					<tr th:each="country : ${countries}">
						<td><span th:text="${country.countryId}"></span></td>
						<td><span th:text="${country.name}"></span></td>
						<td><span th:text="edit"></span></td>
						<td><span th:text="delete"></span></td>
					</tr>
				</tbody>
			</table>

		</div>

		<script type="text/javascript">
			var container = $("#container");
			function team_member_view() {
				container.empty();
				container.append(UIFactory.search_button_view());
				container.append(UIFactory.team_member_view());
			}
		</script>

	</div>


	<!-- Registration form -->
	<div class="container">

		<form class="well form-horizontal" modelAttribute="member"
			action="team/upload" method="post" id="contact_form">
			<fieldset>

				<!-- Form Name -->
				<legend>
					<center>
						<h2>
							<b>Registration Form</b>
						</h2>
					</center>
				</legend>
				<br>

				<!-- Text input-->

				<div class="form-group">
					<label class="col-md-4 control-label">Name</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i
								class="glyphicon glyphicon-user"></i></span> <input name="name"
								placeholder="Name" class="form-control" type="text">
						</div>
					</div>
				</div>



				<div class="form-group">
					<label class="col-md-4 control-label">Country</label>
					<div class="col-md-4 selectContainer">
						<div class="input-group">
							<span class="input-group-addon"><i
								class="glyphicon glyphicon-list"></i></span> <select id="countries"
								name="countryId" class="form-control selectpicker">



								<script>
									$
											.ajax({
												url : "http://localhost:8081/all_countries",
												success : function(result) {

													$("#countries")
															.append(
																	$(
																			"<option>",
																			{
																				value : "",
																				text : "Select your country"
																			}));

													for (var i = 0; i < result.length; ++i) {

														$("#countries")
																.append(
																		$(
																				"<option>",
																				{
																					value : result[i].countryId,
																					text : result[i].name
																				}));
													}
												}
											});
								</script>



							</select>
						</div>
					</div>
				</div>


				<!-- Text input-->

				<div class="form-group">
					<label class="col-md-4 control-label">DOB</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i
								class="glyphicon glyphicon-user"></i></span> <input type="date"
								id="birthDate" name="dob" class="form-control">
						</div>
					</div>
				</div>

				<!-- Text input-->

				<div class="form-group">
					<label class="col-md-4 control-label">Role</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i
								class="glyphicon glyphicon-user"></i></span> <input name="role"
								placeholder="Role" class="form-control" type="text">
						</div>
					</div>
				</div>

				<!-- Text input-->


				<!-- Success message -->
				<div class="alert alert-success" role="alert" id="success_message">
					Success <i class="glyphicon glyphicon-thumbs-up"></i> Success!.
				</div>

				<!-- Button -->
				<div class="form-group">
					<label class="col-md-4 control-label"></label>
					<div class="col-md-4">
						<br>
						&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
						<button type="submit" class="btn btn-warning">
							&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspSUBMIT <span
								class="glyphicon glyphicon-send"></span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
						</button>
					</div>
				</div>

			</fieldset>
		</form>
	</div>
	</div>
	<!-- /.container -->


	<!-- Registration form -->



	<script type="text/javascript">
		function member_populated() {

			var value = jQuery("#country_name")[0].value;
			if (value) {
				$
						.ajax({
							url : "http://localhost:8081/team/members/country/"
									+ value,
							type : "post",
							success : function(result) {

								var row = $("#team_member");

								row.empty();

								for (var i = 0; i < result.length; ++i) {

									row.append(UIFactory.team_member_row(
											result[i], i + 1));

								}
							}
						});

				$('#country_name').val("");

			}

			// jQuery("#country_name")[0].

		}
	</script>


	<script type="text/javascript">
		UIFactory = {
			team_member_row : function(resultRow, count) {
				var html = "<tr>";
				html += "<td>" + count + "</td>";
				html += "<td>" + resultRow.name + "</td>";
				html += "<td>" + resultRow.age + "</td>";
				html += "<td>" + resultRow.role + "</td>";
				html += '<td><a href="#"> update</a></td>';
				html += '<td><a href="#">delete</a></td>';
				html += "</tr>";
				return html;
			},

			team_member_view : function() {

				var html = '<table class="table table-sm">';
				html += '<thead>';
				html += '<tr>';
				html += '<th scope="col">#</th>';
				html += '<th scope="col">Name</th>';
				html += '<th scope="col">Age</th>';
				html += '<th scope="col">Role</th>';
				html += '<th scope="col"></th>';
				html += '<th scope="col"></th>';
				html += '</tr>';
				html += '</thead>';
				html += '<tbody id="team_member">';
				html += '</tbody>';
				html += '</table>';
				return html;

			},

			search_button_view : function() {
				var html = "";
				html = '<div class="form-inline my-2 my-lg-0" id="search">';
				html += '<input class="form-control mr-sm-2" id="country_name" placeholder="Search" aria-label="Search">';
				html += '<button class="btn btn-outline-success my-2 my-sm-0" type="submit" onclick="member_populated()">Search</button>';
				html += '</div>';
				return html;
			}

		}
	</script>



</body>
</html>